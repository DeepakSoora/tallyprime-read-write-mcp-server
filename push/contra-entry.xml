<?xml version="1.0" encoding="utf-8"?>
<ENVELOPE>
    <HEADER>
        <VERSION>1</VERSION>
        <TALLYREQUEST>Import</TALLYREQUEST>
        <TYPE>Data</TYPE>
        <ID>Vouchers</ID>
    </HEADER>
    <BODY>
        <DESC>
            <STATICVARIABLES>
                <nunjuck>if targetCompany</nunjuck>
                <SVCURRENTCOMPANY>{{targetCompany | escape}}</SVCURRENTCOMPANY>
                <nunjuck>endif</nunjuck>
            </STATICVARIABLES>
        </DESC>
        <DATA>
            <TALLYMESSAGE xmlns:UDF="TallyUDF">
                <VOUCHER VCHTYPE="Contra" ACTION="Create">
                    <DATE>{{date}}</DATE>
                    <nunjuck>if voucherNumber</nunjuck>
                    <VOUCHERNUMBER>{{voucherNumber | escape}}</VOUCHERNUMBER>
                    <nunjuck>endif</nunjuck>
                    <VOUCHERTYPENAME>Contra</VOUCHERTYPENAME>
                    <nunjuck>if narration</nunjuck>
                    <NARRATION>{{narration | escape}}</NARRATION>
                    <nunjuck>endif</nunjuck>

                    <comment>begin</comment>Destination ledger (money coming in)<comment>end</comment>
                    <ALLLEDGERENTRIES.LIST>
                        <LEDGERNAME>{{toLedger | escape}}</LEDGERNAME>
                        <ISDEEMEDPOSITIVE>Yes</ISDEEMEDPOSITIVE>
                        <AMOUNT>-{{amount}}</AMOUNT>
                    </ALLLEDGERENTRIES.LIST>
                    <comment>begin</comment>Source ledger (money going out)<comment>end</comment>
                    <ALLLEDGERENTRIES.LIST>
                        <LEDGERNAME>{{fromLedger | escape}}</LEDGERNAME>
                        <ISDEEMEDPOSITIVE>No</ISDEEMEDPOSITIVE>
                        <AMOUNT>{{amount}}</AMOUNT>
                    </ALLLEDGERENTRIES.LIST>
                </VOUCHER>
            </TALLYMESSAGE>
        </DATA>
    </BODY>
</ENVELOPE>
